# 反刷量策略设计

## 🎯 刷量风险分析

### 常见刷量手段
1. **批量注册账号** - 使用多个 Telegram 账号注册
2. **重复提交链接** - 同一个视频链接多次提交
3. **假链接** - 提交不存在或无效的链接
4. **低质量内容** - 发布后立即删除,或设置为私密
5. **互刷** - 多个账号互相邀请,刷邀请奖励
6. **自动化脚本** - 使用机器人批量操作

---

## 🛡️ 多层防护策略

### 第一层:链接验证(技术验证)

#### 1.1 链接格式验证
- ✅ 已实现:正则表达式验证 TikTok/YouTube/Instagram 链接格式
- ✅ 防止:明显的假链接

#### 1.2 链接真实性验证(需实现)
- 🔸 **HTTP 请求验证**:访问链接,检查是否返回 200 状态码
- 🔸 **视频存在性验证**:解析页面,确认视频确实存在
- 🔸 **视频时长验证**:确保视频时长与任务要求匹配
- 🔸 **发布时间验证**:确保视频是最近发布的(如 7 天内)

#### 1.3 链接唯一性验证
- ✅ 已实现:数据库检查,防止同一链接多次提交
- 🔸 **需增强**:检测变体链接(如 URL 参数不同但指向同一视频)

---

### 第二层:用户行为分析(行为模式识别)

#### 2.1 提交频率限制
- 🔸 **每日提交上限**:每个用户每天最多提交 N 个任务(如 10 个)
- 🔸 **提交间隔限制**:两次提交之间至少间隔 M 分钟(如 5 分钟)
- 🔸 **冷却期**:新注册用户需要等待 X 小时后才能提交任务

#### 2.2 账号年龄验证
- 🔸 **Telegram 账号年龄**:要求 Telegram 账号注册时间超过 N 天(如 30 天)
- 🔸 **Bot 使用时长**:新用户前 7 天有更严格的限制

#### 2.3 异常行为检测
- 🔸 **提交速度异常**:短时间内大量提交
- 🔸 **链接模式异常**:提交的链接都来自同一账号
- 🔸 **IP 地址异常**:多个 Telegram 账号来自同一 IP(需要额外服务)

---

### 第三层:内容质量验证(人工审核)

#### 3.1 随机抽查机制
- 🔸 **抽查比例**:随机抽取 X% 的提交进行人工审核(如 10%)
- 🔸 **高风险用户**:对可疑用户提高抽查比例(如 50%)
- 🔸 **新用户**:新用户前 N 次提交 100% 审核

#### 3.2 用户举报机制
- 🔸 **举报按钮**:允许用户举报刷量行为
- 🔸 **举报奖励**:举报成功给予奖励

#### 3.3 视频质量评分
- 🔸 **播放量**:检查视频播放量是否异常低
- 🔸 **点赞/评论比**:检查互动数据是否正常
- 🔸 **视频可见性**:确保视频是公开的,不是私密或删除

---

### 第四层:经济激励设计(降低刷量动机)

#### 4.1 递减奖励
- 🔸 **边际递减**:同一用户提交越多,单次奖励越低
- 🔸 **每日上限**:每天最多获得 X X2C

#### 4.2 质量奖励
- 🔸 **播放量奖励**:根据视频实际播放量给予额外奖励
- 🔸 **互动奖励**:根据点赞/评论数给予额外奖励

#### 4.3 延迟发放
- 🔸 **审核期**:奖励在提交后 24-48 小时发放
- 🔸 **可撤回**:发现刷量行为可撤回奖励

---

### 第五层:账号信誉系统(长期管理)

#### 5.1 信誉分机制
- 🔸 **初始信誉分**:新用户 100 分
- 🔸 **正常行为加分**:正常提交任务 +1 分
- 🔸 **异常行为扣分**:提交假链接 -10 分
- 🔸 **严重违规**:信誉分低于 50 分禁止提交

#### 5.2 黑名单机制
- 🔸 **自动拉黑**:检测到严重刷量行为自动拉黑
- 🔸 **永久封禁**:多次违规永久封禁

#### 5.3 白名单机制
- 🔸 **优质用户**:信誉分高的用户享受更高奖励
- 🔸 **快速通道**:优质用户免审核

---

## 🔧 实施优先级

### Phase 1:基础防护(立即实施)
1. ✅ 链接格式验证
2. ✅ 链接唯一性验证
3. 🔸 每日提交上限
4. 🔸 提交间隔限制

### Phase 2:行为分析(1-2周内)
1. 🔸 账号年龄验证
2. 🔸 异常行为检测
3. 🔸 信誉分系统

### Phase 3:内容验证(1个月内)
1. 🔸 链接真实性验证
2. 🔸 随机抽查机制
3. 🔸 视频质量评分

### Phase 4:高级功能(长期)
1. 🔸 用户举报机制
2. 🔸 质量奖励系统
3. 🔸 AI 自动审核

---

## 📊 监控指标

### 关键指标
1. **提交/通过率**:正常应该 > 90%
2. **平均提交间隔**:正常应该 > 30 分钟
3. **单用户日均提交**:正常应该 < 5 次
4. **新用户占比**:异常增长需要警惕

### 预警阈值
- 🚨 单用户 1 小时内提交 > 3 次
- 🚨 单用户每天提交 > 10 次
- 🚨 同一链接被多次提交
- 🚨 新注册用户立即提交任务

---

## 🎯 推荐实施方案

### 立即实施(本次开发)
1. **每日提交上限**:10 次/天
2. **提交间隔限制**:5 分钟/次
3. **新用户冷却期**:注册后 1 小时才能提交
4. **链接真实性验证**:HTTP 请求检查链接是否有效

### 后续优化
1. **信誉分系统**:根据用户行为动态调整权限
2. **随机抽查**:10% 人工审核
3. **延迟发放**:24 小时后发放奖励
