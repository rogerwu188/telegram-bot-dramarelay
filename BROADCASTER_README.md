# åˆ†å‘æ•°æ®å›ä¼ åŠŸèƒ½ä½¿ç”¨æ–‡æ¡£

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

**åˆ†å‘æ•°æ®å›ä¼ **åŠŸèƒ½å¯ä»¥å®šæœŸè‡ªåŠ¨å›ä¼ æ‰€æœ‰ä¸‹å‘ä»»åŠ¡çš„è§†é¢‘æ’­æ”¾é‡æ•°æ®åˆ°X2C Poolå¹³å°ï¼Œç”¨äºå®æ—¶åŒæ­¥ä»»åŠ¡çš„æ•°æ®è¡¨ç°ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **è‡ªåŠ¨å®šæ—¶å›ä¼ **ï¼šæ¯éš”3åˆ†é’Ÿè‡ªåŠ¨å›ä¼ ä¸€æ¬¡
- âœ… **å…¨é‡ä»»åŠ¡æ‰«æ**ï¼šå›ä¼ æ‰€æœ‰æ´»è·ƒä»»åŠ¡çš„æ•°æ®
- âœ… **å®æ—¶æ•°æ®æŠ“å–**ï¼šä»YouTube/TikTok/æŠ–éŸ³å®æ—¶æŠ“å–æœ€æ–°æ•°æ®
- âœ… **Webç•Œé¢æ§åˆ¶**ï¼šé€šè¿‡ç®¡ç†åå°ä¸€é”®å¯åŠ¨/åœæ­¢
- âœ… **æ‰‹åŠ¨è§¦å‘**ï¼šæ”¯æŒç«‹å³è§¦å‘ä¸€æ¬¡å›ä¼ 
- âœ… **æŠ–éŸ³æ•°æ®å…¼å®¹**ï¼šæŠ–éŸ³æ•°æ®è‡ªåŠ¨è®¡å…¥YouTubeæ€»é‡

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. å®æ—¶æ•°æ®åŒæ­¥

X2C Poolå¹³å°éœ€è¦å®æ—¶äº†è§£æ¯ä¸ªä»»åŠ¡çš„è§†é¢‘æ’­æ”¾é‡ã€ç‚¹èµæ•°ç­‰æ•°æ®è¡¨ç°ï¼Œç”¨äºï¼š
- ä»»åŠ¡æ•ˆæœè¯„ä¼°
- æ•°æ®ç»Ÿè®¡åˆ†æ
- å®æ—¶ç›‘æ§

### 2. åˆ†è´¦è®¡ç®—

æ ¹æ®è§†é¢‘çš„å®é™…æ’­æ”¾é‡å’Œäº’åŠ¨æ•°æ®ï¼Œè¿›è¡Œæ›´ç²¾å‡†çš„åˆ†è´¦è®¡ç®—ã€‚

### 3. æ•°æ®ç›‘æ§

ç›‘æ§ä»»åŠ¡çš„æ•°æ®å¢é•¿è¶‹åŠ¿ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•1ï¼šé€šè¿‡ç®¡ç†åå°ï¼ˆæ¨èï¼‰

1. **è®¿é—®ç®¡ç†åå°**
   ```
   https://worker-production-d960.up.railway.app/admin
   ```

2. **æ‰¾åˆ°æ§åˆ¶æŒ‰é’®**
   
   åœ¨é¡µé¢é¡¶éƒ¨çš„æ§åˆ¶é¢æ¿ä¸­ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæŒ‰é’®ï¼š
   - ğŸ“¡ **å¯åŠ¨åˆ†å‘æ•°æ®å›ä¼ **ï¼šå¯åŠ¨å®šæ—¶è‡ªåŠ¨å›ä¼ ï¼ˆæ¯3åˆ†é’Ÿä¸€æ¬¡ï¼‰
   - ğŸš€ **ç«‹å³å›ä¼ ä¸€æ¬¡**ï¼šæ‰‹åŠ¨è§¦å‘ä¸€æ¬¡å›ä¼ 

3. **å¯åŠ¨è‡ªåŠ¨å›ä¼ **
   
   ç‚¹å‡»"ğŸ“¡ å¯åŠ¨åˆ†å‘æ•°æ®å›ä¼ "æŒ‰é’®ï¼š
   - ç³»ç»Ÿä¼šå¼€å§‹æ¯3åˆ†é’Ÿè‡ªåŠ¨å›ä¼ ä¸€æ¬¡
   - æŒ‰é’®å˜ä¸º"ğŸ›‘ åœæ­¢åˆ†å‘æ•°æ®å›ä¼ "
   - å†æ¬¡ç‚¹å‡»å¯ä»¥åœæ­¢

4. **æ‰‹åŠ¨è§¦å‘å›ä¼ **
   
   ç‚¹å‡»"ğŸš€ ç«‹å³å›ä¼ ä¸€æ¬¡"æŒ‰é’®ï¼š
   - ç«‹å³æ‰§è¡Œä¸€æ¬¡å…¨é‡å›ä¼ 
   - æ˜¾ç¤ºå›ä¼ ç»“æœï¼ˆæˆåŠŸ/å¤±è´¥æ•°é‡ï¼‰

### æ–¹æ³•2ï¼šé€šè¿‡APIæ¥å£

#### å¯åŠ¨è‡ªåŠ¨å›ä¼ 

```bash
curl -X POST https://worker-production-d960.up.railway.app/api/broadcaster/start
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "åˆ†å‘æ•°æ®å›ä¼ æœåŠ¡å·²å¯åŠ¨ï¼Œæ¯3åˆ†é’Ÿè‡ªåŠ¨å›ä¼ ä¸€æ¬¡"
}
```

#### åœæ­¢è‡ªåŠ¨å›ä¼ 

```bash
curl -X POST https://worker-production-d960.up.railway.app/api/broadcaster/stop
```

#### æŸ¥è¯¢è¿è¡ŒçŠ¶æ€

```bash
curl https://worker-production-d960.up.railway.app/api/broadcaster/status
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "running": true,
    "timestamp": "2024-12-10T12:00:00"
  }
}
```

#### æ‰‹åŠ¨è§¦å‘ä¸€æ¬¡å›ä¼ 

```bash
curl -X POST https://worker-production-d960.up.railway.app/api/broadcaster/trigger
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "total": 10,
    "success_count": 9,
    "failed_count": 1,
    "timestamp": "2024-12-10T12:00:00"
  }
}
```

### æ–¹æ³•3ï¼šé€šè¿‡å‘½ä»¤è¡Œè„šæœ¬

#### æµ‹è¯•å›ä¼ åŠŸèƒ½

```bash
cd /home/ubuntu/telegram-bot-dramarelay
python3 test_broadcaster.py
```

#### ç›´æ¥è¿è¡ŒæœåŠ¡ï¼ˆå‰å°è¿è¡Œï¼‰

```bash
cd /home/ubuntu/telegram-bot-dramarelay
python3 stats_broadcaster.py
```

æŒ‰ `Ctrl+C` åœæ­¢æœåŠ¡ã€‚

---

## ğŸ“Š å›ä¼ æ•°æ®æ ¼å¼

### å›ä¼ åˆ°X2C Poolçš„æ•°æ®ç»“æ„

```json
{
  "site_name": "DramaRelayBot",
  "stats": [{
    "project_id": "550e8400-e29b-41d4-a716-446655440000",
    "task_id": 42,
    "duration": 30,
    "account_count": 0,
    "yt_account_count": 0,
    "yt_view_count": 12500,
    "yt_like_count": 680
  }]
}
```

### å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `site_name` | string | å›ºå®šå€¼ "DramaRelayBot" |
| `project_id` | string | é¡¹ç›®IDï¼ˆUUIDæ ¼å¼ï¼‰ |
| `task_id` | integer | ä»»åŠ¡IDï¼ˆX2Cå¹³å°çš„external_task_idï¼‰ |
| `duration` | integer | ä»»åŠ¡æ—¶é•¿ï¼ˆç§’ï¼‰ |
| `account_count` | integer | è´¦å·æ•°ï¼ˆåˆ†å‘æ•°æ®å›ºå®šä¸º0ï¼‰ |
| `yt_account_count` | integer | YouTubeè´¦å·æ•°ï¼ˆåˆ†å‘æ•°æ®å›ºå®šä¸º0ï¼‰ |
| `yt_view_count` | integer | YouTubeæ’­æ”¾é‡ï¼ˆåŒ…å«æŠ–éŸ³æ’­æ”¾é‡ï¼‰ |
| `yt_like_count` | integer | YouTubeç‚¹èµæ•°ï¼ˆåŒ…å«æŠ–éŸ³ç‚¹èµæ•°ï¼‰ |
| `tt_account_count` | integer | TikTokè´¦å·æ•°ï¼ˆåˆ†å‘æ•°æ®å›ºå®šä¸º0ï¼‰ |
| `tt_view_count` | integer | TikTokæ’­æ”¾é‡ï¼ˆå¦‚æœæœ‰ï¼‰ |
| `tt_like_count` | integer | TikTokç‚¹èµæ•°ï¼ˆå¦‚æœæœ‰ï¼‰ |

### é‡è¦è¯´æ˜

1. **åˆ†å‘æ•°æ®ä¸ç»Ÿè®¡è´¦å·æ•°**
   - `account_count` å›ºå®šä¸º 0
   - `yt_account_count`ã€`tt_account_count` å›ºå®šä¸º 0
   - åªå›ä¼ è§†é¢‘çš„æ’­æ”¾é‡å’Œç‚¹èµæ•°

2. **æŠ–éŸ³æ•°æ®è®¡å…¥YouTubeæ€»é‡**
   - æŠ–éŸ³è§†é¢‘çš„æ’­æ”¾é‡è®¡å…¥ `yt_view_count`
   - æŠ–éŸ³è§†é¢‘çš„ç‚¹èµæ•°è®¡å…¥ `yt_like_count`
   - ä¸å•ç‹¬å›ä¼  `dy_*` å­—æ®µ

3. **åªåŒ…å«æœ‰æ•°æ®çš„å­—æ®µ**
   - å¦‚æœæ’­æ”¾é‡ä¸º0ï¼Œä¸ä¼šåŒ…å«è¯¥å­—æ®µ
   - å¦‚æœæŸä¸ªå¹³å°æ²¡æœ‰æ•°æ®ï¼Œä¸ä¼šåŒ…å«è¯¥å¹³å°çš„å­—æ®µ

---

## ğŸ”§ å·¥ä½œåŸç†

### 1. ä»»åŠ¡æ‰«æ

```sql
SELECT 
    task_id,
    external_task_id,
    project_id,
    title,
    video_url,
    callback_url,
    callback_secret,
    duration
FROM drama_tasks
WHERE status = 'active'
  AND callback_url IS NOT NULL
  AND callback_url != ''
ORDER BY task_id
```

åªå›ä¼ æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ä»»åŠ¡ï¼š
- âœ… çŠ¶æ€ä¸º `active`ï¼ˆæ´»è·ƒï¼‰
- âœ… é…ç½®äº† `callback_url`ï¼ˆå›è°ƒåœ°å€ï¼‰

### 2. æ•°æ®æŠ“å–

å¯¹æ¯ä¸ªä»»åŠ¡ï¼š
1. åˆ¤æ–­è§†é¢‘å¹³å°ï¼ˆYouTube/TikTok/æŠ–éŸ³ï¼‰
2. è°ƒç”¨ `VideoStatsFetcher` å®æ—¶æŠ“å–æ•°æ®
3. æå–æ’­æ”¾é‡ã€ç‚¹èµæ•°ç­‰æŒ‡æ ‡

### 3. æ•°æ®å›ä¼ 

1. æ„å»ºå›ä¼ æ•°æ®ï¼ˆéµå¾ªX2C Poolæ ¼å¼ï¼‰
2. è°ƒç”¨ `send_webhook` å‘é€HTTP POSTè¯·æ±‚
3. è®°å½•æˆåŠŸ/å¤±è´¥çŠ¶æ€

### 4. å®šæ—¶å¾ªç¯

```python
while broadcaster_running:
    # æ‰§è¡Œä¸€æ¬¡å…¨é‡å›ä¼ 
    await broadcast_all_tasks()
    
    # ç­‰å¾…3åˆ†é’Ÿ
    await asyncio.sleep(180)
```

---

## ğŸ“ æ—¥å¿—æŸ¥çœ‹

### æŸ¥çœ‹å®æ—¶æ—¥å¿—

å¦‚æœä½¿ç”¨å‘½ä»¤è¡Œè¿è¡ŒæœåŠ¡ï¼Œæ—¥å¿—ä¼šç›´æ¥è¾“å‡ºåˆ°ç»ˆç«¯ï¼š

```bash
python3 stats_broadcaster.py
```

**æ—¥å¿—ç¤ºä¾‹**:
```
2024-12-10 12:00:00 - INFO - ğŸš€ åˆ†å‘æ•°æ®å›ä¼ æœåŠ¡å·²å¯åŠ¨
2024-12-10 12:00:00 - INFO - ======================================================================
2024-12-10 12:00:00 - INFO - ğŸ“¡ å¼€å§‹æ–°ä¸€è½®æ•°æ®å›ä¼  - 2024-12-10 12:00:00
2024-12-10 12:00:00 - INFO - ======================================================================
2024-12-10 12:00:00 - INFO - ğŸ“Š å¼€å§‹å›ä¼  10 ä¸ªä»»åŠ¡çš„æ•°æ®
2024-12-10 12:00:01 - INFO - âœ… ä»»åŠ¡ 75 æ•°æ®æŠ“å–æˆåŠŸ: {'views': 12500, 'likes': 680}
2024-12-10 12:00:01 - INFO - ğŸ“¤ å›ä¼ ä»»åŠ¡ 75 æ•°æ®: {"site_name":"DramaRelayBot","stats":[...]}
2024-12-10 12:00:02 - INFO - âœ… ä»»åŠ¡ 75 æ•°æ®å›ä¼ æˆåŠŸ
2024-12-10 12:00:10 - INFO - âœ… å›ä¼ å®Œæˆ: æˆåŠŸ 9, å¤±è´¥ 1
2024-12-10 12:00:10 - INFO - ======================================================================
2024-12-10 12:00:10 - INFO - ğŸ“Š å›ä¼ ç»“æœ: {"success":true,"total":10,"success_count":9,"failed_count":1}
2024-12-10 12:00:10 - INFO - ======================================================================
2024-12-10 12:00:10 - INFO - â° ç­‰å¾…3åˆ†é’Ÿåè¿›è¡Œä¸‹ä¸€è½®å›ä¼ ...
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

éœ€è¦é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# æ•°æ®åº“è¿æ¥
DATABASE_URL=postgresql://user:password@host:port/database

# YouTube API Key
YOUTUBE_API_KEY=your_youtube_api_key

# TikHub API Keyï¼ˆç”¨äºæŠ–éŸ³æ•°æ®æŠ“å–ï¼‰
TIKHUB_API_KEY=your_tikhub_api_key
```

### ä»»åŠ¡é…ç½®

åœ¨åˆ›å»ºä»»åŠ¡æ—¶ï¼Œéœ€è¦é…ç½®ä»¥ä¸‹å­—æ®µï¼š

```json
{
  "callback_url": "https://x2c.pool/api/callback",
  "callback_secret": "your_secret_key",
  "video_url": "https://www.youtube.com/watch?v=xxx"
}
```

- `callback_url`: X2C Poolçš„å›è°ƒåœ°å€
- `callback_secret`: å›è°ƒç­¾åå¯†é’¥ï¼ˆå¯é€‰ï¼‰
- `video_url`: è§†é¢‘é“¾æ¥

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šå›ä¼ å¤±è´¥

**ç—‡çŠ¶**: æ—¥å¿—æ˜¾ç¤º"âŒ ä»»åŠ¡ X æ•°æ®å›ä¼ å¤±è´¥"

**å¯èƒ½åŸå› **:
1. `callback_url` é…ç½®é”™è¯¯
2. X2C PoolæœåŠ¡ä¸å¯è¾¾
3. ç½‘ç»œè¿æ¥é—®é¢˜

**è§£å†³æ–¹æ³•**:
```bash
# æ£€æŸ¥callback_urlæ˜¯å¦å¯è®¿é—®
curl -X POST https://your-callback-url \
  -H "Content-Type: application/json" \
  -d '{"site_name":"DramaRelayBot","stats":[]}'

# æŸ¥çœ‹æ•°æ®åº“ä¸­çš„callback_urlé…ç½®
psql $DATABASE_URL -c "SELECT task_id, callback_url FROM drama_tasks WHERE callback_url IS NOT NULL;"
```

### é—®é¢˜2ï¼šæ•°æ®æŠ“å–å¤±è´¥

**ç—‡çŠ¶**: æ—¥å¿—æ˜¾ç¤º"âš ï¸ ä»»åŠ¡ X æ•°æ®æŠ“å–å¤±è´¥"

**å¯èƒ½åŸå› **:
1. è§†é¢‘é“¾æ¥æ— æ•ˆ
2. API Keyé…ç½®é”™è¯¯
3. APIé…é¢ç”¨å°½

**è§£å†³æ–¹æ³•**:
```bash
# æ£€æŸ¥YouTube API Key
echo $YOUTUBE_API_KEY

# æ£€æŸ¥TikHub API Key
echo $TIKHUB_API_KEY

# æ‰‹åŠ¨æµ‹è¯•è§†é¢‘æ•°æ®æŠ“å–
python3 -c "
import asyncio
from video_stats_fetcher import VideoStatsFetcher
fetcher = VideoStatsFetcher()
stats = asyncio.run(fetcher.fetch_video_stats('https://www.youtube.com/watch?v=xxx', 'youtube'))
print(stats)
"
```

### é—®é¢˜3ï¼šæœåŠ¡æ— æ³•å¯åŠ¨

**ç—‡çŠ¶**: ç‚¹å‡»"å¯åŠ¨åˆ†å‘æ•°æ®å›ä¼ "æŒ‰é’®æ— å“åº”

**å¯èƒ½åŸå› **:
1. æœåŠ¡å·²åœ¨è¿è¡Œä¸­
2. ä»£ç è¯­æ³•é”™è¯¯
3. ä¾èµ–æ¨¡å—ç¼ºå¤±

**è§£å†³æ–¹æ³•**:
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl https://worker-production-d960.up.railway.app/api/broadcaster/status

# æ£€æŸ¥ä»£ç è¯­æ³•
cd /home/ubuntu/telegram-bot-dramarelay
python3 -m py_compile stats_broadcaster.py

# æ£€æŸ¥ä¾èµ–
pip3 list | grep -E "(psycopg2|requests|aiohttp)"
```

---

## ğŸ“Š ç›‘æ§å»ºè®®

### 1. å®šæœŸæ£€æŸ¥å›ä¼ æˆåŠŸç‡

```sql
-- æŸ¥è¯¢æœ€è¿‘çš„å›ä¼ è®°å½•
SELECT 
    task_id,
    title,
    callback_status,
    callback_retry_count,
    callback_last_attempt
FROM drama_tasks
WHERE callback_url IS NOT NULL
ORDER BY callback_last_attempt DESC
LIMIT 20;
```

### 2. ç›‘æ§å¤±è´¥ä»»åŠ¡

```sql
-- æŸ¥è¯¢å›ä¼ å¤±è´¥çš„ä»»åŠ¡
SELECT 
    task_id,
    title,
    callback_url,
    callback_retry_count
FROM drama_tasks
WHERE callback_status = 'failed'
ORDER BY callback_last_attempt DESC;
```

### 3. æŸ¥çœ‹æ•°æ®å¢é•¿è¶‹åŠ¿

å¯ä»¥é€šè¿‡ç®¡ç†åå°çš„"Webhook å›è°ƒæ—¥å¿—"æ ‡ç­¾é¡µæŸ¥çœ‹å›ä¼ å†å²ã€‚

---

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

### 1. API Keyä¿æŠ¤

- âœ… ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç API Key
- âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- âœ… å®šæœŸæ›´æ¢API Key

### 2. Callback Secret

- âœ… ä¸ºæ¯ä¸ªä»»åŠ¡é…ç½®ç‹¬ç«‹çš„ `callback_secret`
- âœ… X2C Poolåº”éªŒè¯ç­¾åï¼Œé˜²æ­¢ä¼ªé€ è¯·æ±‚

### 3. è®¿é—®æ§åˆ¶

- âœ… ç®¡ç†åå°åº”æœ‰è®¿é—®æ§åˆ¶
- âœ… APIæ¥å£åº”éªŒè¯æƒé™

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ç›¸å…³æ–‡æ¡£

- **æŠ–éŸ³æ•°æ®å¤„ç†**: `DOUYIN_DATA_HANDLING.md`
- **æ¯æ—¥æ±‡æ€»åŠŸèƒ½**: `DAILY_STATS_README.md`
- **è§†é¢‘æ•°æ®æŠ“å–**: `VIDEO_STATS_FETCHER_README.md`
- **X2Cå¹³å°å¯¹æ¥**: `X2Cå¹³å°å¯¹æ¥æ–‡æ¡£_æœ€ç»ˆç‰ˆ.md`

### å¸¸è§é—®é¢˜

**Q: åˆ†å‘æ•°æ®å›ä¼ å’Œæ¯æ—¥æ±‡æ€»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**

A: 
- **åˆ†å‘æ•°æ®å›ä¼ **ï¼šå®šæ—¶å›ä¼ ä»»åŠ¡çš„è§†é¢‘æ•°æ®ï¼ˆæ’­æ”¾é‡ã€ç‚¹èµæ•°ï¼‰ï¼Œä¸ç»Ÿè®¡ç”¨æˆ·å®Œæˆæƒ…å†µ
- **æ¯æ—¥æ±‡æ€»**ï¼šæ¯å¤©æ±‡æ€»ç”¨æˆ·å®Œæˆä»»åŠ¡çš„æ•°æ®ï¼ŒåŒ…æ‹¬è´¦å·æ•°ã€å®Œæˆæ•°ç­‰

**Q: ä¸ºä»€ä¹ˆaccount_countæ˜¯0ï¼Ÿ**

A: åˆ†å‘æ•°æ®å›ä¼ åªå…³æ³¨è§†é¢‘æœ¬èº«çš„æ•°æ®è¡¨ç°ï¼ˆæ’­æ”¾é‡ã€ç‚¹èµæ•°ï¼‰ï¼Œä¸ç»Ÿè®¡ç”¨æˆ·å®Œæˆæƒ…å†µï¼Œæ‰€ä»¥è´¦å·æ•°å›ºå®šä¸º0ã€‚

**Q: å›ä¼ é¢‘ç‡å¯ä»¥è°ƒæ•´å—ï¼Ÿ**

A: å¯ä»¥ã€‚ä¿®æ”¹ `stats_broadcaster.py` ä¸­çš„ `await asyncio.sleep(180)` å‚æ•°ï¼š
- 180ç§’ = 3åˆ†é’Ÿ
- 300ç§’ = 5åˆ†é’Ÿ
- 600ç§’ = 10åˆ†é’Ÿ

**Q: å¦‚ä½•åœæ­¢è‡ªåŠ¨å›ä¼ ï¼Ÿ**

A: 
1. é€šè¿‡ç®¡ç†åå°ç‚¹å‡»"ğŸ›‘ åœæ­¢åˆ†å‘æ•°æ®å›ä¼ "æŒ‰é’®
2. æˆ–è°ƒç”¨API: `curl -X POST /api/broadcaster/stop`
3. æˆ–æŒ‰ `Ctrl+C` åœæ­¢å‘½ä»¤è¡ŒæœåŠ¡

---

## ğŸ“‹ æ€»ç»“

### æ ¸å¿ƒåŠŸèƒ½

- âœ… æ¯3åˆ†é’Ÿè‡ªåŠ¨å›ä¼ æ‰€æœ‰ä»»åŠ¡çš„è§†é¢‘æ•°æ®
- âœ… Webç•Œé¢ä¸€é”®å¯åŠ¨/åœæ­¢
- âœ… æ”¯æŒæ‰‹åŠ¨è§¦å‘ç«‹å³å›ä¼ 
- âœ… å®æ—¶æŠ“å–YouTube/TikTok/æŠ–éŸ³æ•°æ®
- âœ… æŠ–éŸ³æ•°æ®è‡ªåŠ¨è®¡å…¥YouTubeæ€»é‡

### ä½¿ç”¨å»ºè®®

1. **å¯åŠ¨æ–¹å¼**ï¼šæ¨èä½¿ç”¨ç®¡ç†åå°Webç•Œé¢æ§åˆ¶
2. **ç›‘æ§æ–¹å¼**ï¼šå®šæœŸæŸ¥çœ‹ç®¡ç†åå°çš„Webhookå›è°ƒæ—¥å¿—
3. **æ•…éšœå¤„ç†**ï¼šæŸ¥çœ‹æ—¥å¿—ï¼Œæ£€æŸ¥callback_urlå’ŒAPI Keyé…ç½®

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2024-12-10  
**ç»´æŠ¤è€…**: DramaRelay Bot Team
