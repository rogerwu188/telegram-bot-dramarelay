# 正式测试 - 任务信息

## 测试时间
2024-11-29

## 任务详情

### X2C 平台 ID
- **project_id**: `prod-test-20241129-001`
- **task_id**: `999`

### Bot 内部 ID
- **task_id**: `54`

### 任务内容
- **标题**: 【正式测试】霸道总裁爱上我 第1集
- **描述**: 请观看视频后,上传到您的YouTube或TikTok账号,并提交链接。完成后可获得10节点算力奖励。
- **视频URL**: https://example.com/test-video.mp4
- **时长**: 30秒
- **奖励**: 10 节点算力
- **平台要求**: YouTube, TikTok

### 回调配置
- **callback_url**: https://webhook.site/3bf99f67-9734-4a77-a976-ce59e51db9bd
- **callback_secret**: prod_secret_key_20241129

## 测试步骤

1. ✅ 创建任务（已完成）
   - API 响应正确
   - 数据库存储正确

2. ⏳ 通过 Telegram Bot 完成任务（进行中）
   - 打开 Bot
   - 查看任务列表
   - 提交测试链接

3. ⏳ 验证回调数据（待进行）
   - 检查 webhook.site 接收到的数据
   - 验证数据格式
   - 验证 project_id 和 task_id

## 预期回调数据

### YouTube 平台
```json
{
  "site_name": "DramaRelayBot",
  "stats": [{
    "project_id": "prod-test-20241129-001",
    "task_id": 999,
    "duration": 30,
    "account_count": 1,
    "yt_account_count": 1
  }]
}
```

### TikTok 平台
```json
{
  "site_name": "DramaRelayBot",
  "stats": [{
    "project_id": "prod-test-20241129-001",
    "task_id": 999,
    "duration": 30,
    "account_count": 1,
    "tt_account_count": 1
  }]
}
```

## 查询命令

### 查看 webhook.site 接收到的请求
```bash
curl -s "https://webhook.site/token/3bf99f67-9734-4a77-a976-ce59e51db9bd/requests?sorting=newest" | python3 -m json.tool
```

### 查看任务提交记录
```sql
SELECT * FROM task_submissions WHERE task_id = 54 ORDER BY submitted_at DESC LIMIT 1;
```
